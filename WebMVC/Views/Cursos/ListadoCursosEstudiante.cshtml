@model IEnumerable<NextLevel.Compartidos.DTOs.Cursos.CursoVistaPreviaDTO>

@section Header {
    @await Html.PartialAsync("~/Views/Home/Header.cshtml")
}

@section Styles {
    <link rel="stylesheet" href="~/css/cursos/ListadoCursos.css" />
}

<div class="cursos-section py-5">
    <div class="container">
        <h2 class="text-center fw-bold mb-5 titulo-cursos">Mis Cursos</h2>

        @if (Model == null || !Model.Any())
        {
            <div class="text-center mt-5 mensaje-sin-cursos">
                <h4 class="fw-semibold text-secondary mb-3">Aún no estás inscripto en ningún curso 😔</h4>
                <p class="text-muted mb-4">Explorá nuestros cursos y comenzá a aprender hoy mismo.</p>
                <a href="/Cursos/ListadoCursos" class="btn btn-primary px-4 py-2 rounded-pill shadow-sm">
                    🔍 Ver cursos disponibles
                </a>
            </div>
        }
        else
        {
            <div class="row g-4 justify-content-center">
                @foreach (var curso in Model)
                {
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                        <div class="card curso-card h-100 shadow-sm border-0">
                            @if (!string.IsNullOrEmpty(curso.RutaArchivo))
                            {
                                <img src="@curso.RutaArchivo" alt="@curso.Nombre" class="curso-img card-img-top" />
                            }
                            else
                            {
                                <div class="curso-img card-img-top d-flex align-items-center justify-content-center bg-pastel-placeholder">
                                    <span class="text-muted">Sin imagen</span>
                                </div>
                            }

                            <div class="card-body d-flex flex-column">
                                <h5 class="curso-titulo fw-semibold">@curso.Nombre</h5>
                                <h6 class="docente">@curso.DocenteNombreDTO.NombreCompleto</h6>
                                <p class="curso-descripcion flex-grow-1">@curso.Descripcion</p>
                                <div class="d-flex justify-content-between align-items-center mt-3">
                                    <span class="curso-calificacion">
                                        ⭐ @curso.Calificacion.ToString("0.0")
                                    </span>
                                    <a asp-controller="Cursos" asp-action="VisualizarCurso" asp-route-nombreCurso="@curso.Nombre" class="btn btn-vermas rounded-pill">
                                        Ver más
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
    </div>
</div>
